
@{
    Layout = "~/Views/Shared/_Layout.cshtml";

    string classArrow1 = "";
    string classArrow2 = "";
    string classArrow3 = "";

    if (ViewBag.CheckoutProgress != null)
    {
        switch ((int)ViewBag.CheckoutProgress)
        {
            case 1:
                classArrow1 = "current-progress";
                break;

            case 2:
                classArrow2 = "current-progress";
                break;

            case 3:
                classArrow3 = "current-progress";
                break;

            default:

                break;
        }
    }
}

@section Styles {
    @RenderSection("Styles", false)

    <style>
        :root {
            --arrow-height: 2.8rem;
            --arrow-indent-width: 3rem;
            --arrow-colour: rgba(0, 162, 250, 0.6);
            --arrow-selected-colour: rgba(41, 168, 71, 0.7);
        }

        #progress-container .row {
            width: 100%;
        }

        .arrow-prog {
            margin-bottom: 1rem;
        }

            .arrow-prog .arrow-text {
                background-color: var(--arrow-colour);
                height: var(--arrow-height);
                font-size: 1.3rem;
                padding-left: calc(var(--arrow-indent-width) + 0.2rem);
                padding-right: calc(var(--arrow-indent-width) + 0.2rem);
            }

            .arrow-prog:before {
                display: flex;
                position: absolute;
                height: var(--arrow-height);
                width: 0;
                top: -1px;
                left: 14px;
                border-top: calc((var(--arrow-height) / 2) + 1px) solid transparent;
                border-bottom: calc((var(--arrow-height) / 2) + 1px) solid transparent;
                border-left: var(--arrow-indent-width) solid var(--main-bg-color);
                content: "";
            }

            .arrow-prog:after {
                display: flex;
                position: absolute;
                height: var(--arrow-height);
                width: 0;
                right: 14px;
                top: -1px;
                border-top: calc((var(--arrow-height) / 2) + 1px) solid var(--main-bg-color);
                border-bottom: calc((var(--arrow-height) / 2) + 1px) solid var(--main-bg-color);
                border-left: var(--arrow-indent-width) solid transparent;
                content: "";
            }

        .current-progress {
            --arrow-colour: var(--arrow-selected-colour);
            font-weight: bold;
        }

        .circle {
            border: 1px solid black;
            border-radius: 50%;
            width: 2rem;
            margin-right: 1rem;
        }
    </style>

}

<div id="progress-container" class="content-center container">
    <div class="row">
        <div class="col-12 col-md-4 arrow-prog @classArrow1">
            <div class="content-vertical-center arrow-text">
                <span class="circle content-center">1</span>
                @Resources.Checkout.PersonalInfoArrow
            </div>
        </div>

        <div class="col-12 col-md-4 arrow-prog @classArrow2">
            <div class="content-vertical-center arrow-text">
                <span class="circle content-center">2</span>
                @Resources.Checkout.DeliveryArrow
            </div>
        </div>
        <div class="col-12 col-md-4 arrow-prog @classArrow3">
            <div class="content-vertical-center arrow-text">
                <span class="circle content-center">3</span>
                @Resources.Checkout.PaymentArrow
            </div>
        </div>

    </div>
</div>

<h2 class="text-center" style="margin-bottom:2rem;">@ViewBag.Title</h2>

<div class="row">

    @if (ViewBag.HideCartOverview != null)
    {
        <div class="col-12">
            @RenderBody()
        </div>
    }
    else
    {
        <div class="col-12 col-sm-12 col-md-3" style="margin-bottom:2rem;">
            @Html.Action("_CheckoutCartList", controllerName: "Products")
        </div>
        <div class="col-12 col-sm-12 col-md-9">
            @RenderBody()
        </div>
    }

</div>
